{% assign current_variant = product.selected_or_first_available_variant %}
<script>
let id = {{ current_variant.id }}
    Array.from(document.querySelectorAll('.d')).forEach((d, i) => {
        if (d.querySelector('.buy') && d.querySelector('.buy').dataset.id == id)  {
            window.scrollTo(0, (i * (1 + (document.documentElement.scrollHeight - window.innerHeight) / Array.from(document.querySelectorAll('.d')).length)))
        }
    })
    scroll()
</script>